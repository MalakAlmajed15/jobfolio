{% extends "base.html" %}

{% block content %}
<div style="max-width: 700px; margin: 40px auto; padding: 30px; border: 1px solid #ddd; border-radius: 10px; background-color: #fafafa; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-family: Arial, sans-serif;">

  <h1 style="text-align: center; font-size: 28px; margin-bottom: 25px; color:black;">Application Details</h1>

  <ul style="list-style-type: none; padding: 0; margin: 0; font-size: 16px; line-height: 1.5; color: #333;">
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">🏢 Company Name:</span> {{ application.job_position.company.name }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">🔗 Company Website:</span> 
      <a href="{{ application.job_position.company.website }}" style="color: #2563eb; text-decoration: none;"
         onmouseover="this.style.textDecoration='underline';"
         onmouseout="this.style.textDecoration='none';">
         {{ application.job_position.company.website }}
      </a>
    </li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">💼 Job Title:</span> {{ application.job_position.job_position }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">📍 Location:</span> {{ application.job_position.location }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">💰 Salary:</span> {{ application.job_position.salary }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">📅 Date Applied:</span> {{ application.date_applied }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">📌 Status:</span> {{ application.status }}</li>
    <li style="margin-bottom: 10px;"> <span style="font-weight: bold">📝 Notes:</span> {{ application.notes|default:"No notes added." }}</li>
    <li style="margin-bottom: 20px;"> <span style="font-weight: bold">📎 CV:</span> 
      {% if application.resume %}
        <a href="{{ application.resume.url }}" 
          style="color: #2563eb; text-decoration: none;" onmouseover="this.style.textDecoration='underline';" onmouseout="this.style.textDecoration='none';">
          View CV
        </a>
      {% else %}
        <span style="color: grey;">No resume uploaded.</span>
      {% endif %}
    </li>
  </ul>

  <div style="display: flex; justify-content: space-between; margin-top: 20px;">
    <a href="{% url 'edit_application' application.pk %}" class="button">Edit</a>
    
    <form action="{% url 'delete_application' application.pk %}" method="post" style="flex: 1; margin-left: 10px;">
      {% csrf_token %}
      <button type="submit" class="button">Delete</button>
    </form>
  </div>

</div>

<style>
  .button {
    display: inline-block;
    text-align: center;
    flex: 1;
    margin: 0 10px;
    padding: 10px;
    border: 1.5px solid black;
    border-radius: 6px;
    background-color: antiquewhite;
    color: black;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 16px;  
}

button.button {
    width: 100%;
    background: antiquewhite;
    border: 1.5px solid black;
}

 .button:hover {
    background-color: white;
  }
</style>
{% endblock %}
